var W=Object.defineProperty;var b=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var y=(u,e,t)=>e in u?W(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,w=(u,e)=>{for(var t in e||(e={}))k.call(e,t)&&y(u,t,e[t]);if(b)for(var t of b(e))R.call(e,t)&&y(u,t,e[t]);return u};import{d as c,o as l,c as F,a as Z,b as $,e as v,f as o,w as d,v as x,g as C,t as p,r as j,F as J,h as L,i as Y,j as m,k as B,l as U,m as O,V as P}from"./vendor.9bcfbe42.js";const Q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};Q();var H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==",A=(u,e)=>{const t=u.__vccOpts||u;for(const[n,s]of e)t[n]=s;return t};const z=c({}),V={class:"border-b-2 flex justify-between"},X=Z('<h1 class="text-4xl font-bold text-left"><span class="text-red-600">CHINA</span><span class="text-yellow-500">DLE</span></h1><a href="https://github.com/z0gSh1u/chinadle" target="_blank" class="w-4 ml-4 mt-3" style="display:block;"><img src="'+H+'"></a>',2),q=[X];function K(u,e,t,n,s,r){return l(),F("header",V,q)}var N=A(z,[["render",K]]);function a(u,e,t,n){const s=e.split(",").map(parseFloat);return{name:u,coord:{lon:s[0],lat:s[1]},belong:t,brief:n}}const D=[a("\u6CF0\u5C71","117.094738,36.269893","\u5C71\u4E1C\u7701","\u201C\u76F4\u901A\u5E1D\u5EA7\u201D\u7684\u5929\u5802\uFF0C\u767E\u59D3\u5D07\u62DC\uFF0C\u5E1D\u738B\u544A\u796D\u7684\u795E\u5C71\u3002"),a("\u9EC4\u5C71","118.168089,30.13039","\u5B89\u5FBD\u7701","\u88AB\u8054\u5408\u56FD\u6559\u79D1\u6587\u7EC4\u7EC7\u516C\u5E03\u4E3A\u4E16\u754C\u5730\u8D28\u516C\u56ED\u3002"),a("\u957F\u767D\u5C71","128.083986,42.066898","\u5409\u6797\u7701","\u4E2D\u56FD\u6EE1\u65CF\u7684\u53D1\u7965\u5730\u548C\u6EE1\u65CF\u6587\u5316\u5723\u5C71\u3002"),a("\u65E5\u6708\u6F6D","120.911881,23.854467","\u53F0\u6E7E","\u5317\u534A\u6E56\u5F62\u72B6\u5982\u5706\u65E5\uFF0C\u5357\u534A\u6E56\u5F62\u72B6\u5982\u5F2F\u6708\u3002"),a("\u6545\u5BAB","116.403414,39.924091","\u5317\u4EAC\u5E02","\u660E\u6E05\u4E24\u4EE3\u7684\u7687\u5BB6\u5BAB\u6BBF\uFF0C\u65E7\u79F0\u7D2B\u7981\u57CE\u3002"),a("\u9EC4\u9E64\u697C","114.309043,30.550317","\u6E56\u5317\u7701","\u56E0\u5510\u4EE3\u8BD7\u4EBA\u5D14\u98A2\u767B\u697C\u6240\u9898\u300A\u9EC4\u9E64\u697C\u300B\u4E00\u8BD7\u800C\u540D\u626C\u56DB\u6D77\u3002"),a("\u9EC4\u679C\u6811\u7011\u5E03","105.679142,25.985778","\u8D35\u5DDE\u7701","\u4E16\u754C\u4E0A\u6700\u5927\u7684\u7011\u5E03\u7FA4"),a("\u79E6\u59CB\u7687\u5175\u9A6C\u4FD1","109.2851,34.389417","\u9655\u897F\u7701","\u4E16\u754C\u7B2C\u516B\u5927\u5947\u8FF9"),a("\u6B66\u5937\u5C71","117.963042,27.668108","\u798F\u5EFA\u7701","\u5178\u578B\u7684\u4E39\u971E\u5730\u8C8C\uFF0C\u300A\u4E16\u754C\u9057\u4EA7\u540D\u5F55\u300B"),a("\u4E5D\u5BE8\u6C9F","103.921224,33.163223","\u56DB\u5DDD\u7701","\u4E2D\u56FD\u7B2C\u4E00\u4E2A\u4EE5\u4FDD\u62A4\u81EA\u7136\u98CE\u666F\u4E3A\u4E3B\u8981\u76EE\u7684\u7684\u81EA\u7136\u4FDD\u62A4\u533A"),a("\u5E03\u8FBE\u62C9\u5BAB","91.125038,29.660346","\u897F\u85CF\u81EA\u6CBB\u533A","\u5410\u8543\u738B\u671D\u8D5E\u666E\u677E\u8D5E\u5E72\u5E03\u4E3A\u8FCE\u5A36\u6587\u6210\u516C\u4E3B\u800C\u5174\u5EFA\u3002"),a("\u4E1C\u65B9\u660E\u73E0","121.506379,31.245414","\u4E0A\u6D77\u5E02","\u96C6\u90FD\u5E02\u89C2\u5149\u3001\u65F6\u5C1A\u9910\u996E\u3001\u8D2D\u7269\u5A31\u4E50\u3001\u5386\u53F2\u9648\u5217\u3001\u6D66\u6C5F\u6E38\u89C8\u3001\u4F1A\u5C55\u6F14\u51FA\u3001\u5E7F\u64AD\u7535\u89C6\u53D1\u5C04\u7B49\u591A\u529F\u80FD\u4E8E\u4E00\u4F53\u7684\u4E0A\u6D77\u5E02\u6807\u5FD7\u6027\u5EFA\u7B51\u4E4B\u4E00\u3002"),a("\u4E95\u5188\u5C71","114.143789,26.636167","\u6C5F\u897F\u7701","\u5F00\u521B\u4E86\u4E2D\u56FD\u7B2C\u4E00\u4E2A\u519C\u6751\u9769\u547D\u6839\u636E\u5730\u3002")],T=6;function f(u,e=!1,t="",n="",s=""){return{id:u,done:e,name:t,distance:n,orientation:s}}const uu={N:"\u2B06\uFE0F",NNE:"\u2197\uFE0F",NE:"\u2197\uFE0F",ENE:"\u2197\uFE0F",E:"\u27A1\uFE0F",ESE:"\u2198\uFE0F",SE:"\u2198\uFE0F",SSE:"\u2198\uFE0F",S:"\u2B07\uFE0F",SSW:"\u2199\uFE0F",SW:"\u2199\uFE0F",WSW:"\u2199\uFE0F",W:"\u2B05\uFE0F",WNW:"\u2196\uFE0F",NW:"\u2196\uFE0F",NNW:"\u2196\uFE0F"};function eu(u){return`
    <b style="font-size: 1.5em">${u.name}</b><br>
    <i>@ ${u.belong}</i>
    <p>${u.brief}</p>
  `}function tu(u){return u<=1?["\u{1F7E9}","\u{1F7E9}","\u{1F7E9}","\u{1F7E9}","\u{1F7E9}"]:u<500?["\u{1F7E9}","\u{1F7E9}","\u{1F7E9}","\u{1F7E9}","\u{1F7E8}"]:u<1e3?["\u{1F7E9}","\u{1F7E9}","\u{1F7E9}","\u{1F7E8}","\u2B1C"]:u<2e3?["\u{1F7E9}","\u{1F7E9}","\u{1F7E8}","\u2B1C","\u2B1C"]:u<3e3?["\u{1F7E9}","\u{1F7E8}","\u2B1C","\u2B1C","\u2B1C"]:["\u{1F7E8}","\u2B1C","\u2B1C","\u2B1C","\u2B1C"]}let I;const su=c({data(){return{currentGuess:0,name:"",answer:{},success:!1,failed:!1}},mounted(){I=$.create(this.$refs.confettiCanvas,{resize:!0,useWorker:!0}),window.$("#sight").autocomplete({source:D.map(e=>e.name)});const u=~~(D.length*Math.random());this.answer=D[u],localStorage.setItem("CHINADLE_ANSWER",JSON.stringify(this.answer))},methods:{handleReplay(){window.location.reload()},fetchName(){this.name=this.$refs.nameInput.value},handleGuess(){if(this.success){this.$toast.open({message:"\u4F60\u5DF2\u731C\u4E2D\uFF0C\u4E0D\u5982\u70B9\u51FB \u267B\uFE0F \u91CD\u73A9 \u6362\u4E00\u9898~",type:"info",position:"top",duration:2e3,dismissible:!0});return}if(this.failed){this.$toast.open({message:"\u4F60\u6CA1\u731C\u4E2D\uFF0C\u4E0D\u5982\u70B9\u51FB \u267B\uFE0F \u91CD\u73A9 \u6362\u4E00\u9898~",type:"info",position:"top",duration:2e3,dismissible:!0});return}let u,e=-1;if(this.fetchName(),this.name===this.answer.name)u=f(this.currentGuess,!0,this.name,"0 m","\u2714\uFE0F"),this.success=!0;else{const t=D.find(E=>E.name==this.name.trim());if(!t){this.$toast.open({message:"\u8FD9\u4E2A\u666F\u70B9\u4E0D\u5728\u9898\u5E93\u4E2D\u55F7~",type:"info",position:"top",duration:2e3,dismissible:!0});return}const n=t.coord,s=this.answer.coord;e=v.getDistance(n,s);let r=e>=1e3?"km":"m";const i=v.getCompassDirection(n,s);u=f(this.currentGuess++,!0,this.name,`${e>=1e3?Math.round(e/1e3):Math.round(e)} ${r}`,uu[i])}this.emitter.on("ANIMATION_DONE",()=>{(this.currentGuess==T||this.success)&&(this.failed=!0,this.showAnswer()),this.success&&I({particleCount:50,startVelocity:20,spread:100}),this.name=""}),this.emitter.emit("MAKE_NEW_GUESS",{guess:u,dist:e})},showAnswer(){this.$toast.open({message:eu(this.answer),type:"success",position:"top",duration:1e4,dismissible:!0,queue:!0})}}}),nu={class:"ui-widget mt-2 border-2 p-1"},ou={id:"confetti-canvas",ref:"confettiCanvas"};function ru(u,e,t,n,s,r){return l(),F("div",null,[o("div",nu,[d(o("input",{id:"sight",placeholder:"\u8BF7\u8F93\u5165\u666F\u70B9...",class:"w-full p-1","onUpdate:modelValue":e[0]||(e[0]=i=>u.name=i),ref:"nameInput"},null,512),[[x,u.name]])]),o("button",{class:"w-full justify-center border-2 my-1 hover:bg-gray-50 active:bg-gray-100",onClick:e[1]||(e[1]=(...i)=>u.handleGuess&&u.handleGuess(...i))}," \u{1F6EB} \u731C\u6D4B "),o("button",{class:"w-full justify-center border-2 my-1 hover:bg-gray-50 active:bg-gray-100",onClick:e[2]||(e[2]=(...i)=>u.handleReplay&&u.handleReplay(...i))}," \u267B\uFE0F \u91CD\u73A9 "),o("canvas",ou,null,512)])}var S=A(su,[["render",ru]]);const iu=c({data(){return{animString:" ",guessDone:!1}},props:{value:{type:Object,default:{}},id:{type:Number,default:-1}},methods:{async playAnimation(u){return new Promise(e=>{let t=0;const n=setInterval(()=>{this.animString+=u[t++],t>=u.length&&(clearInterval(n),e())},500)})}},mounted(){this.emitter.on("PLAY_ANIMATION",async u=>{const{id:e,disp:t}=u;this.id==e&&(await this.playAnimation(t),this.emitter.emit("ANIMATION_DONE",e),setTimeout(()=>{this.guessDone=!0},500))})}}),au={class:"grid grid-cols-6 gap-1 text-center"},lu={class:"flex justify-center border-2 h-8 col-span-6 bg-gray-300 my-0.5",style:{"letter-spacing":"1em","text-indent":"1em"}},Eu={class:"flex justify-center border-2 h-8 col-span-3 my-0.5"},cu={class:"overflow-hidden text-ellipsis whitespace-nowrap"};function Fu(u,e,t,n,s,r){var i,E,h;return l(),F("div",au,[d(o("div",lu,[o("span",null,p(u.animString),1)],512),[[C,!u.guessDone]]),d(o("div",Eu,[o("p",cu,p((i=u.value.name)!=null?i:""),1)],512),[[C,u.guessDone]]),d(o("div",{class:"flex justify-center border-2 h-8 col-span-1 my-0.5"},p((E=u.value.orientation)!=null?E:""),513),[[C,u.guessDone]]),d(o("div",{class:"flex justify-center border-2 h-8 col-span-2 my-0.5"},p((h=u.value.distance)!=null?h:""),513),[[C,u.guessDone]])])}var du=A(iu,[["render",Fu]]);const M=["\u6C5F\u5357\u597D\uFF0C\u98CE\u666F\u65E7\u66FE\u8C19\u3002","\u6C5F\u5C71\u5982\u6B64\u591A\u5A07\uFF0C\u5F15\u65E0\u6570\u82F1\u96C4\u7ADE\u6298\u8170\u3002","\u98DE\u6D41\u76F4\u4E0B\u4E09\u5343\u5C3A\uFF0C\u7591\u662F\u94F6\u6CB3\u843D\u4E5D\u5929\u3002","\u6C14\u84B8\u4E91\u68A6\u6CFD\uFF0C\u6CE2\u64BC\u5CB3\u9633\u57CE\u3002","\u59D1\u82CF\u57CE\u5916\u5BD2\u5C71\u5BFA\uFF0C\u591C\u534A\u949F\u58F0\u5230\u5BA2\u8239\u3002","\u843D\u971E\u4E0E\u5B64\u9E5C\u9F50\u98DE\uFF0C\u79CB\u6C34\u5171\u957F\u5929\u4E00\u8272\u3002","\u5CB1\u5B97\u592B\u5982\u4F55\uFF1F\u9F50\u9C81\u9752\u672A\u4E86\u3002","\u4F1A\u5F53\u51CC\u7EDD\u9876\uFF0C\u4E00\u89C8\u4F17\u5C71\u5C0F\u3002"],pu=c({data(){return{poem:"",guesses:[]}},components:{Guess:du},mounted(){this.poem=M[~~(Math.random()*M.length)],this.guesses=Array.from(Array(T).fill(0),(u,e)=>f(e)),this.emitter.on("MAKE_NEW_GUESS",u=>{const{guess:e,dist:t}=u;this.updateGuess(e);const n=tu(t/1e3);this.emitter.emit("PLAY_ANIMATION",{id:e.id,disp:n})})},methods:{updateGuess(u){this.guesses[u.id]=w({},u)}}}),mu={class:"text-base my-2"};function Au(u,e,t,n,s,r){const i=j("Guess");return l(),F("div",null,[o("p",mu,p(u.poem),1),(l(!0),F(J,null,L(u.guesses,(E,h)=>(l(),Y(i,{key:E.id,id:E.id,value:u.guesses[h]},null,8,["id","value"]))),128))])}var _=A(pu,[["render",Au]]);const hu=c({}),Cu={class:"text-center text-xs bottom-0"},Bu=o("p",null,[m(" Inspired by "),o("a",{href:"https://www.powerlanguage.co.uk/wordle/",target:"_blank",class:"text-cyan-600"},"Wordle"),m(" and "),o("a",{href:"https://worldle.teuteuf.fr/",target:"_blank",class:"text-cyan-600"},"Worldle")],-1),Du=o("p",null,[m(" by "),o("a",{href:"https://zxuuu.tech",target:"_blank",class:"text-cyan-600"},"z0gSh1u"),m(" @ 2022. Go "),o("a",{href:"https://github.com/z0gSh1u/chinadle",target:"_blank",class:"text-cyan-600"},"GitHub"),m(" to contribute. ")],-1),fu=[Bu,Du];function gu(u,e,t,n,s,r){return l(),F("footer",Cu,fu)}var G=A(hu,[["render",gu]]);const bu={class:"flex flex-col h-screen w-fit justify-center overflow-y-hidden mx-auto"},yu={class:"flex-grow w-full max-w-lg"},wu=c({setup(u){return c({components:{Banner:N,SightInput:S,Guesses:_,Footer:G},mounted(){}}),(e,t)=>(l(),F("div",bu,[B(N,{class:"w-full max-w-lg mt-4"}),o("div",yu,[B(_),B(S)]),B(G,{class:"w-full max-w-lg mb-4"})]))}});const g=U(wu);g.config.globalProperties.emitter=O();g.use(P);g.mount("#app");
